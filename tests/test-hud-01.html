<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>Teste HUD-01.svg</title>
		<script src="libs/aframe.min.js"></script>
		<style>
			body {
				margin: 0;
				background: #000;
			}

			#info {
				position: fixed;
				top: 10px;
				left: 10px;
				color: white;
				font-family: monospace;
				background: rgba(0, 0, 0, 0.8);
				padding: 10px;
				border-radius: 5px;
			}
		</style>
	</head>

	<body>
		<div id="info">
			<h3>üéØ Teste HUD-01.svg</h3>
			<p>Pressione <strong>K</strong> para recarregar HUD</p>
			<p>Pressione <strong>H</strong> para alternar HUD</p>
		</div>

		<a-scene background="color: #000000" vr-mode-ui="enabled: false">
			<a-assets>
				<img id="hud-01" src="assets/hud-01.svg" crossorigin="anonymous">
			</a-assets>

			<a-camera position="0 0 0" wasd-controls look-controls>
				<!-- HUD usando hud-01.svg -->
				<a-plane id="test-hud" src="#hud-01" position="0 0 -2" width="3.5" height="2.5"
					material="transparent: true; opacity: 0.9; color: #ffffff; shader: flat" visible="true">
				</a-plane>

				<!-- Dados din√¢micos sobrepostos -->
				<a-text id="speed-text" value="96" position="-1.2 0.4 -1.99" align="center" color="#ffffff"
					scale="0.7 0.7 0.7" font="monospace">
				</a-text>

				<a-text id="battery-text" value="87%" position="1.2 0.4 -1.99" align="center" color="#ffffff"
					scale="0.6 0.6 0.6" font="monospace">
				</a-text>

				<a-text id="altitude-text" value="450" position="-1.2 -0.4 -1.99" align="center" color="#ffffff"
					scale="0.7 0.7 0.7" font="monospace">
				</a-text>

				<a-text id="distance-text" value="120M" position="1.2 -0.2 -1.99" align="center" color="#ffffff"
					scale="0.5 0.5 0.5" font="monospace">
				</a-text>
			</a-camera>
		</a-scene>

		<script>
			console.log("üéØ Teste HUD-01.svg iniciado");

			document.addEventListener('keydown', (evt) => {
				const hud = document.querySelector('#test-hud');

				switch (evt.key.toLowerCase()) {
					case 'h':
						const isVisible = hud.getAttribute('visible');
						hud.setAttribute('visible', !isVisible);
						console.log(`HUD ${!isVisible ? 'ATIVADO' : 'DESATIVADO'}`);
						break;

					case 'k':
						const timestamp = Date.now();
						hud.setAttribute('material', {
							src: `assets/hud-01.svg?v=${timestamp}`,
							transparent: true,
							opacity: 0.9,
							color: '#ffffff',
							shader: 'flat'
						});
						console.log(`HUD recarregado: assets/hud-01.svg?v=${timestamp}`);
						break;
				}
			});

			// Verificar se o arquivo foi carregado
			setTimeout(() => {
				const asset = document.querySelector('#hud-01');
				if (asset && asset.complete) {
					console.log("‚úÖ hud-01.svg carregado com sucesso!");
				} else {
					console.error("‚ùå Erro ao carregar hud-01.svg");
				}
			}, 1000);
		</script>
	</body>

</html>